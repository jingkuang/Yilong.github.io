
<!DOCTYPE html>
<html lang="ZH-CN" class="loading">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>jingkuang Blog</title>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="参数常用参数
 -sT     TCP connect()扫描，这种方式会在目标主机的日志中记录大批的链接请求以及错误信息。-sP     ping扫描，加上这个参数会使用ping扫描，只有主机存活,"> 
    <meta name="author" content="John Doe"> 
    <link rel="alternative" href="atom.xml" title="jingkuang Blog" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="/css/diaspora.css">
</head>
</html>
<body class="loading">
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;"></a>
    <div title="播放/暂停" class="icon-play"></div>
    <h3 class="subtitle">NMAP速查手册</h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="获取二维码" class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>
    <div class="section">
        <div class="article">
    <div class="main">
        <h1 class="title">NMAP速查手册</h1>
        <div class="stuff">
            <span>十二月 30, 2018</span>
            
  <ul class="post-tags-list"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/nmap/">nmap</a></li></ul>


        </div>
        <div class="content markdown">
            <h2><span id="参数">参数</span></h2><h3><span id="常用参数">常用参数</span></h3><blockquote>
<p> -sT     TCP connect()扫描，这种方式会在目标主机的日志中记录大批的链接请求以及错误信息。<br>-sP     ping扫描，加上这个参数会使用ping扫描，只有主机存活，nmap才会继续扫描，一般最好不加，因为有的主机会禁止ping，却实际存在。<br>-sS     半开扫描，一般不会记入日志，不过需要root权限。<br>-sU     udp扫描，但是一般不可靠，<br>-sA     用来穿过防火墙的规则集，速度慢。<br>-sV     端口服务及版本<br>-A     包含了-sV，-O，全面系统检测，启动脚本检测，扫描等。<br>-P0     扫描之前不使用ping，适用于防火墙禁止ping，比较有用。<br>-v     显示扫描进程<br>-O     探测目标系统的漏洞，容易误报<br>-oN/-oX/-oG     将报告写入文件，格式分别为正常（自定义.txt）,XML,grepable.<br>-iL     扫描主机列表<br>-sC   –script=default   默认的脚本扫描，主要是搜集各种应用服务的信息</p>
</blockquote>
<h3><span id="主机发现">主机发现</span></h3><blockquote>
<p>  -sL                     仅仅是显示,扫描的IP数目,不会进行任何扫描<br>-sn                     ping扫描,即主机发现<br>-Pn                     不检测主机存活<br>-PS/PA/PU/PY[portlist]  TCP SYN Ping/TCP ACK Ping/UDP Ping发现<br>-PE/PP/PM               使用ICMP echo, timestamp and netmask 请求包发现主机<br>-PO[prococol list]      使用IP协议包探测对方主机是否开启<br>-n/-R                   不对IP进行域名反向解析/为所有的IP都进行域名的反响解析</p>
</blockquote>
<h3><span id="扫描技巧">扫描技巧</span></h3><blockquote>
<p>  -sS/sT/sA/sW/sM                 TCP SYN/TCP connect()/ACK/TCP窗口扫描/TCP Maimon扫描<br>-sU                             UDP扫描<br>-sN/sF/sX                       TCP Null，FIN，and Xmas扫描<br>–scanflags                     自定义TCP包中的flags<br>-sI zombie host[:probeport]     Idlescan<br>-sY/sZ                          SCTP INIT/COOKIE-ECHO 扫描<br>-sO                             使用IP protocol 扫描确定目标机支持的协议类型<br>-b “FTP relay host”             使用FTP bounce scan</p>
</blockquote>
<h3><span id="指定端口和扫描顺序">指定端口和扫描顺序</span></h3><blockquote>
<p>  -p                      特定的端口 -p80,443 或者 -p1-65535<br>-p U:PORT               扫描udp的某个端口, -p U:53<br>-F                      快速扫描模式,比默认的扫描端口还少<br>-r                      不随机扫描端口,默认是随机扫描的<br>–top-ports “number”    扫描开放概率最高的number个端口,出现的概率需要参考nmap-services文件,ubuntu中该文件位于/usr/share/nmap.nmap默认扫前1000个<br>–port-ratio “ratio”    扫描指定频率以上的端口</p>
</blockquote>
<h3><span id="服务版本识别">服务版本识别</span></h3><blockquote>
<p>  -sV                             开放版本探测,可以直接使用-A同时打开操作系统探测和版本探测<br>–version-intensity “level”     设置版本扫描强度,强度水平说明了应该使用哪些探测报文。数值越高，服务越有可能被正确识别。默认是7<br>–version-light                 打开轻量级模式,为–version-intensity 2的别名<br>–version-all                   尝试所有探测,为–version-intensity 9的别名<br>–version-trace                 显示出详细的版本侦测过程信息</p>
</blockquote>
<h3><span id="脚本扫描">脚本扫描</span></h3><blockquote>
<p>  -sC                             根据端口识别的服务,调用默认脚本<br>–script=”Lua scripts”          调用的脚本名<br>–script-args=n1=v1,[n2=v2]     调用的脚本传递的参数<br>–script-args-file=filename     使用文本传递参数<br>–script-trace                  显示所有发送和接收到的数据<br>–script-updatedb               更新脚本的数据库<br>–script-help=”Lua script”      显示指定脚本的帮助</p>
</blockquote>
<h3><span id="os识别">OS识别</span></h3><blockquote>
<p>  -O              启用操作系统检测,-A来同时启用操作系统检测和版本检测<br>–osscan-limit  针对指定的目标进行操作系统检测(至少需确知该主机分别有一个open和closed的端口)<br>–osscan-guess  推测操作系统检测结果,当Nmap无法确定所检测的操作系统时，会尽可能地提供最相近的匹配，Nmap默认进行这种匹配</p>
</blockquote>
<h3><span id="防火墙ids躲避和哄骗">防火墙/IDS躲避和哄骗</span></h3><blockquote>
<p>  -f; –mtu value                 指定使用分片、指定数据包的MTU.<br>-D decoy1,decoy2,ME             使用诱饵隐蔽扫描<br>-S IP-ADDRESS                   源地址欺骗<br>-e interface                    使用指定的接口<br>-g/ –source-port PROTNUM       使用指定源端口<br>–proxies url1,[url2],…       使用HTTP或者SOCKS4的代理 </p>
</blockquote>
<p>–data-length NUM               填充随机数据让数据包长度达到NUM<br>–ip-options OPTIONS            使用指定的IP选项来发送数据包<br>–ttl VALUE                     设置IP time-to-live域<br>–spoof-mac ADDR/PREFIX/VEBDOR  MAC地址伪装<br>–badsum                        使用错误的checksum来发送数据包</p>
<h3><span id="nmap-输出">Nmap 输出</span></h3><blockquote>
<p>  -oN                     将标准输出直接写入指定的文件<br>-oX                     输出xml文件<br>-oS                     将所有的输出都改为大写<br>-oG                     输出便于通过bash或者perl处理的格式,非xml<br>-oA BASENAME            可将扫描结果以标准格式、XML格式和Grep格式一次性输出<br>-v                      提高输出信息的详细度<br>-d level                设置debug级别,最高是9<br>–reason                显示端口处于带确认状态的原因<br>–open                  只输出端口状态为open的端口<br>–packet-trace          显示所有发送或者接收到的数据包<br>–iflist                显示路由信息和接口,便于调试<br>–log-errors            把日志等级为errors/warings的日志输出<br>–append-output         追加到指定的文件<br>–resume FILENAME       恢复已停止的扫描<br>–stylesheet PATH/URL   设置XSL样式表，转换XML输出<br>–webxml                从namp.org得到XML的样式<br>–no-sytlesheet         忽略XML声明的XSL样式表</p>
</blockquote>
<h3><span id="其他">其他</span></h3><blockquote>
<p>  -6                      开启IPv6<br>-A                      OS识别,版本探测,脚本扫描和traceroute<br>–datedir DIRNAME       说明用户Nmap数据文件位置<br>–send-eth / –send-ip  使用原以太网帧发送/在原IP层发送<br>–privileged            假定用户具有全部权限<br>–unprovoleged          假定用户不具有全部权限,创建原始套接字需要root权限<br>-V                      打印版本信息<br>-h                      输出帮助</p>
</blockquote>
<h2><span id="参考">参考</span></h2><h3><span id="文中内容摘自">文中内容摘自</span></h3><p><a href="https://wps2015.org/drops/drops/Nmap%E9%80%9F%E6%9F%A5%E6%89%8B%E5%86%8C.html" target="_blank" rel="noopener">Nmap速查手册</a></p>
<h3><span id="nmap官方中文手册">Nmap官方中文手册</span></h3><p><a href="http://nmap.org/man/zh/" target="_blank" rel="noopener">Nmap中文手册</a></p>
<h3><span id="nmap入门">Nmap入门</span></h3><p><a href="https://blog.csdn.net/aspirationflow/article/details/7694274" target="_blank" rel="noopener">Nmap扫描原理与用法</a></p>
<h3><span id="简单粗暴获得所有帮助">简单粗暴获得所有帮助</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --help</span><br></pre></td></tr></table></figure>
            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="true">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        <li title="0" data-url="http://link.hhtjim.com/163/5146554.mp3"></li>
                    
                        <li title="1" data-url="http://link.hhtjim.com/qq/001faIUs4M2zna.mp3"></li>
                    
                </ul>
            
        </div>
        
    <div id="gitalk-container" class="comment link" data-ae="false" data-ci="" data-cs="" data-r="" data-o="" data-a="" data-d="false">查看评论</div>


    </div>
    
        <div class="side">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">1.</span> <span class="toc-text">参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">1.1.</span> <span class="toc-text">常用参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">1.2.</span> <span class="toc-text">主机发现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">1.3.</span> <span class="toc-text">扫描技巧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">1.4.</span> <span class="toc-text">指定端口和扫描顺序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">1.5.</span> <span class="toc-text">服务版本识别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">1.6.</span> <span class="toc-text">脚本扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">1.7.</span> <span class="toc-text">OS识别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">1.8.</span> <span class="toc-text">防火墙/IDS躲避和哄骗</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">1.9.</span> <span class="toc-text">Nmap 输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">1.10.</span> <span class="toc-text">其他</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">2.</span> <span class="toc-text">参考</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.1.</span> <span class="toc-text">文中内容摘自</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.2.</span> <span class="toc-text">Nmap官方中文手册</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.3.</span> <span class="toc-text">Nmap入门</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.4.</span> <span class="toc-text">简单粗暴获得所有帮助</span></a></li></ol></li></ol>
        </div>
    
</div>


    </div>
</div>
</body>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>




</html>